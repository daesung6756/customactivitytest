<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SMS / Kakaotalk / Survey</title>
    <link rel="stylesheet" href="css/style.css" />
    <script>
        const data = {
            dataType: "SMS",
            b: "",
        }
    </script>
</head>
<body>
<div class="wrap">
    <div class="send-wrap">

        <div class="content-area">
            <div class="view">
                <div class="phone-wrap">
                    <div class="phone">

                        <div class="outer-btns">
                            <span class="left-btn-01"></span>
                            <span class="left-btn-02"></span>
                            <span class="left-btn-03"></span>
                            <span class="right-btn"></span>
                        </div>
                        <div class="phone-head">
                            <div class="status-bar">
                                <i class="icon icon-wifi"></i>
                                <i class="icon icon-bluetooth"></i>
                                <i class="icon icon-lte"></i>
                                <i class="icon icon-lte-signal"></i>
                                <i class="icon icon-battery"></i>
                                <span class="camera"></span>
                            </div>
                        </div>
                        <div class="phone-body">
                            <div class="chat-wrap">
                                <div class="chat" >
                                    <div class="msg">
                                        <p data-msg-title></p>
                                        <p data-msg-main></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="phone-foot">

                        </div>

                    </div>
                    <div class="noti">

                    </div>
                </div>
            </div>
            <div class="form-wrap">
                <ul class="form-list">
                    <li>
                        <fieldset class="radio-group">
                            <span class="radio box-type">
                                <input type="radio" id="sms" name="messageType" data-messagetype checked/>
                                <label for="sms">SMS</label>
                            </span>
                            <span class="radio box-type">
                                <input type="radio" id="kko" name="messageType" data-messagetype />
                                <label for="kko">Kakao</label>
                            </span>
                        </fieldset>
                    </li>
                    <li>
                        <h3 class="title">제목 입력</h3>
                        <fieldset class="message-input">
                            <input type="text" class="input" placeholder="내용을 입력하세요." data-msg-input="title" />
                        </fieldset>
                    </li>
                    <li>
                        <h3 class="title">메세지 입력</h3>
                        <fieldset class="message-input">
                            <textarea class="input" placeholder="내용을 입력하세요." data-msg-input="mainmsg"></textarea>
                        </fieldset>
                    </li>
                    <li>
                        <h3 class="title">설문</h3>
                        <p class="desc">* 아래 체크박스를 체크하시면 진행됩니다. 설문은 캠페인에서 설정하세요.</p>
                        <fieldset class="checkbox-group">
                            <input type="checkbox" id="survey" name="survey">
                            <label for="survey">진행</label>
                        </fieldset>
                    </li>
                    <li>
                        <h3 class="title">선택</h3>
                        <fieldset class="">

                        </fieldset>
                    </li>
                </ul>
            </div>
        </div>

        <div class="btn-area">
            <button type="submit">전송</button>
        </div>

    </div>
</div>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/postmonger.js"></script>
<script type="text/javascript" src="customActivity.js"></script>
<script type="text/javascript">
    const data = {
        type: "SMS",
        title: "",
        mainText : "",
        image: "",
    }
    const UI = {
        init : function () {
            this.messageInputView.init()
        },
        messageTypeSelect : {
            name: "UI > Message type Radio",
            items : document.querySelectorAll("[data-messagetype]"),
            init: function () {
                this.items.length > 0 ?
                    this.dataCollection() :
                    console.log(`${this.name} data가 존재하지 않습니다.`)
            },
            events: function () {
                this.items.forEach((radio) => {
                    radio.addEventListener("click", () => {

                    })
                })
            },
        },
        messageInputView: {
            name: 'UI > input message view',
            items : document.querySelectorAll(`[data-msg-input]`),
            itemArray : [],
            init : function () {
                this.items.length > 0 ?
                    this.dataCollection() :
                    console.log(`${this.name} data가 존재하지 않습니다.`)
            },
            dataCollection : function () {
                this.items.forEach((item) => {
                    this.itemArray.indexOf(item.dataset.msgInput) === -1 ?
                        (
                            this.itemArray.push(item.dataset.msgInput),
                                console.log(this.itemArray),
                                this.events()
                        )
                        : console.log(`${this.name} data가 존재하지 않습니다.`)
                })
            },
            events: function () {
                const _this = this;
                this.itemArray.forEach((dataName) => {
                    const input = document.querySelector(`[data-msg-input=${dataName}]`)
                    const titleView = document.querySelector(`[data-msg-title]`)
                    const mainView = document.querySelector(`[data-msg-main]`)
                    input.addEventListener("keyup", () => {
                        dataName === "title" ?
                            titleView.textContent = input.value
                            : (
                                mainView.textContent = input.value,
                            )

                    })
                })
            },
            mmsCheck : function (elem) {
                data.type === "SMS" ?
                elem.value.length > 50 ?
                    (
                       alert("MMS"),
                        data.type = "MMS",
                        console.log(data)
                    )
                    : (
                        alert("SMS"),
                        data.type = "SMS",
                        console.log(data)
                    )
                : false
            }
        },
    }

    //UI Run
    UI.init()
</script>
</body>
</html>